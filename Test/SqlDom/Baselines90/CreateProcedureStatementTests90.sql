CREATE PROCEDURE p1
@lastname NVARCHAR (100)
WITH EXECUTE AS CALLER
AS EXTERNAL NAME [assembly].[class].[method]


GO
CREATE PROCEDURE p1
@lastname NVARCHAR (100)
WITH RECOMPILE, EXECUTE AS SELF
AS
PRINT 'hi';
PRINT 'bye';


GO
CREATE PROCEDURE p1
@lastname NVARCHAR (100)
WITH RECOMPILE, EXECUTE AS OWNER, ENCRYPTION
AS EXTERNAL NAME A.B.C


GO
CREATE PROCEDURE p1
@lastname NVARCHAR (100)
WITH EXECUTE AS 'dbo'
AS
SELECT *
FROM t1;
SELECT *
FROM t2;

